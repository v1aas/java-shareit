CREATE TABLE USERS (
	ID SERIAL PRIMARY KEY,
	NAME VARCHAR(100) NOT NULL,
	EMAIL VARCHAR(100) NOT NULL,
	CONSTRAINT UNIQ_EMAIL UNIQUE (EMAIL)
);
CREATE TABLE ITEMS (
	ID SERIAL PRIMARY KEY,
	NAME VARCHAR(100) NOT NULL,
	DESCRIPTION VARCHAR(100) NOT NULL,
	IS_AVAILABLE BOOLEAN NOT NULL,
	OWNER_ID INTEGER NOT NULL,
	REQUEST_ID INTEGER,
	CONSTRAINT ITEMS_FK FOREIGN KEY (OWNER_ID) REFERENCES USERS(ID)
);

create TABLE IF NOT EXISTS BOOKINGS (
	id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	start_date timestamp NOT NULL,
	end_date timestamp NOT NULL,
	item_id INTEGER NULL,
	booker_id INTEGER NULL,
	status varchar(255) NOT NULL,
	FOREIGN KEY (item_id) REFERENCES items (id),
    FOREIGN KEY (booker_id) REFERENCES users (id)
);
create TABLE IF NOT EXISTS COMMENTS (
	id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	text varchar(255) NOT NULL,
	item_id int NOT NULL,
	author_id int NULL,
	created timestamp NOT NULL,
	FOREIGN KEY (item_id) REFERENCES items (id),
    FOREIGN KEY (author_id) REFERENCES users (id)
);